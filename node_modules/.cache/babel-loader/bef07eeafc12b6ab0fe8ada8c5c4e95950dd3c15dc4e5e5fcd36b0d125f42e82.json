{"ast":null,"code":"// import React, { useEffect, useState } from 'react';\n// import html2canvas from 'html2canvas';\n// import jsPDF from 'jspdf';\n// import { useParams } from 'react-router-dom';\n// import { baseurl } from '../Component/Baseurl';\n// function ReceiptComponent() {\n//   const { shortcode } = useParams();\n//   const [rechargeData, setRechargeData] = useState(null);\n//   useEffect(() => {\n//     const fetchData = async () => {\n//       try {\n//         const response = await fetch(`${baseurl}/rcpt-api/getrechargedetails?shortcode=${shortcode}`, {\n//           method: 'GET',\n//           headers: {\n//             'Content-Type': 'application/json',\n//           },\n//         });\n//         if (response.ok) {\n//           const data = await response.json();\n//           if (Array.isArray(data) && data.length > 0) {\n//             setRechargeData(data[0]);\n//           }\n//         } else {\n//           console.error('Error fetching data:', response.status);\n//         }\n//       } catch (error) {\n//         console.error('Error fetching data:', error);\n//       }\n//     };\n//     fetchData();\n//   }, [shortcode]);\n//   useEffect(() => {\n//     const splitHTMLtoMultiPagePDF = async () => {\n//       const htmlWidth = document.getElementById('showtable').offsetWidth;\n//       const htmlHeight = document.getElementById('showtable').offsetHeight;\n//       const pdfWidth = htmlWidth + 30; // Add 15 pixels for left and right margins\n//       const pdfHeight = (pdfWidth * 1.5) + 30; // Add 15 pixels for top and bottom margins\n//       const doc = new jsPDF('p', 'pt', [pdfWidth, pdfHeight]);\n//       const pageCount = Math.ceil(htmlHeight / pdfHeight) - 1;\n//       const canvas = await html2canvas(document.getElementById('showtable'));\n//       const image = canvas.toDataURL('image/png', 1.0);\n//       doc.addImage(image, 'PNG', 15, 15, htmlWidth, htmlHeight);\n//       for (let i = 1; i <= pageCount; i++) {\n//         doc.addPage(pdfWidth, pdfHeight);\n//         doc.addImage(image, 'PNG', 15, -(pdfHeight * i) + 15, htmlWidth, htmlHeight);\n//       }\n//       const pdfBlob = doc.output('blob');\n//       const downloadLink = document.createElement('a');\n//       downloadLink.href = window.URL.createObjectURL(pdfBlob);\n//       downloadLink.download = 'bsnl-receipt.pdf';\n//       document.body.appendChild(downloadLink);\n//       downloadLink.click();\n//       document.body.removeChild(downloadLink);\n//     };\n//     splitHTMLtoMultiPagePDF();\n//   }, []);\n//   const containerStyle = {\n//     border: '1px solid yellow',\n//   };\n//   const titleStyle = {\n//     color: '#DF0101',\n//   };\n//   const headingStyle = {\n//     fontWeight: '700',\n//     fontSize: '22px',\n//     marginBottom: '0px',\n//   };\n//   const amountStyle = {\n//     fontWeight: '700',\n//     fontSize: '22px',\n//     marginBottom: '0px',\n//     fontFamily: 'Open Sans',\n//   };\n//   return (\n//     <div id=\"showtable\" className=\"print_section\">\n//       <div className=\"col-md-12 m-1 border-top border-bottom row\" style={containerStyle} id=\"plan-mob\">\n//         <div className=\"col-md-2 mt-2 mb-2\">\n//           <img src=\"https://rcpt.in/images/logo.jpeg\" className=\"sai\" width=\"100%\" id=\"rec-logo-mob\" alt=\"Logo\" />\n//         </div>\n//       </div>\n//       <div className=\"maindowresp\">\n//         <div className=\"text-center\">\n//           <h2>\n//             <b>\n//               <font className=\"receipttext\">Recharge Receipt</font>\n//             </b>\n//           </h2>\n//         </div>\n//         <div className=\"mx-2 row recepitrow p-2 forbodrad\" id=\"plan-mob\">\n//           <div className=\"col-4 col-sm-4 border-right text-center py-2\">\n//             <h6 id=\"heading\">Mobile Number</h6>\n//             <p style={headingStyle}><b>{rechargeData?.mobileNumber}</b></p>\n//           </div>\n//           <div className=\"col-4 col-sm-4 border-right text-center py-2\">\n//             <h6 id=\"heading\">Transactions No.</h6>\n//             <p style={headingStyle}><b>{rechargeData?.transactionNumber}</b></p>\n//           </div>\n//           <div className=\"col-4 col-sm-4 text-center py-2\">\n//             <h6 id=\"heading\">Amount Paid</h6>\n//             <p style={amountStyle}>&#x20b9; {rechargeData?.amountPaid}</p>\n//           </div>\n//         </div>\n//         <div className=\"rechdeatils row mx-2 py-3\" style={{ border: '2px solid #0927eb' }}>\n//           <div className=\"col-6 rechdeatilscol1 \">\n//             <h6>Recharge type</h6>\n//             <h6>Validity of the Plan</h6>\n//             <h6>Amount Paid :</h6>\n//             <h6>Transaction Date :</h6>\n//           </div>\n//           <div className=\"col-6\">\n//             <h6>{rechargeData?.rechargeType}</h6>\n//             <h6>{rechargeData?.validity}</h6>\n//             <h6>Amount Paid :</h6>\n//             <h6>{rechargeData?.transactionDate}</h6>\n//           </div>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// }\n// export default ReceiptComponent;","map":{"version":3,"names":[],"sources":["/home/sathish/Desktop/PROJECTS/rcpt/src/Mobile/ReceiptComponent.js"],"sourcesContent":["// import React, { useEffect, useState } from 'react';\n// import html2canvas from 'html2canvas';\n// import jsPDF from 'jspdf';\n// import { useParams } from 'react-router-dom';\n// import { baseurl } from '../Component/Baseurl';\n\n// function ReceiptComponent() {\n//   const { shortcode } = useParams();\n//   const [rechargeData, setRechargeData] = useState(null);\n\n//   useEffect(() => {\n//     const fetchData = async () => {\n//       try {\n//         const response = await fetch(`${baseurl}/rcpt-api/getrechargedetails?shortcode=${shortcode}`, {\n//           method: 'GET',\n//           headers: {\n//             'Content-Type': 'application/json',\n//           },\n//         });\n\n//         if (response.ok) {\n//           const data = await response.json();\n//           if (Array.isArray(data) && data.length > 0) {\n//             setRechargeData(data[0]);\n//           }\n//         } else {\n//           console.error('Error fetching data:', response.status);\n//         }\n//       } catch (error) {\n//         console.error('Error fetching data:', error);\n//       }\n//     };\n\n//     fetchData();\n//   }, [shortcode]);\n\n//   useEffect(() => {\n//     const splitHTMLtoMultiPagePDF = async () => {\n//       const htmlWidth = document.getElementById('showtable').offsetWidth;\n//       const htmlHeight = document.getElementById('showtable').offsetHeight;\n//       const pdfWidth = htmlWidth + 30; // Add 15 pixels for left and right margins\n//       const pdfHeight = (pdfWidth * 1.5) + 30; // Add 15 pixels for top and bottom margins\n\n//       const doc = new jsPDF('p', 'pt', [pdfWidth, pdfHeight]);\n\n//       const pageCount = Math.ceil(htmlHeight / pdfHeight) - 1;\n\n//       const canvas = await html2canvas(document.getElementById('showtable'));\n\n//       const image = canvas.toDataURL('image/png', 1.0);\n//       doc.addImage(image, 'PNG', 15, 15, htmlWidth, htmlHeight);\n\n//       for (let i = 1; i <= pageCount; i++) {\n//         doc.addPage(pdfWidth, pdfHeight);\n//         doc.addImage(image, 'PNG', 15, -(pdfHeight * i) + 15, htmlWidth, htmlHeight);\n//       }\n\n//       const pdfBlob = doc.output('blob');\n//       const downloadLink = document.createElement('a');\n//       downloadLink.href = window.URL.createObjectURL(pdfBlob);\n//       downloadLink.download = 'bsnl-receipt.pdf';\n//       document.body.appendChild(downloadLink);\n//       downloadLink.click();\n//       document.body.removeChild(downloadLink);\n//     };\n\n//     splitHTMLtoMultiPagePDF();\n//   }, []);\n\n//   const containerStyle = {\n//     border: '1px solid yellow',\n//   };\n\n//   const titleStyle = {\n//     color: '#DF0101',\n//   };\n\n//   const headingStyle = {\n//     fontWeight: '700',\n//     fontSize: '22px',\n//     marginBottom: '0px',\n//   };\n\n//   const amountStyle = {\n//     fontWeight: '700',\n//     fontSize: '22px',\n//     marginBottom: '0px',\n//     fontFamily: 'Open Sans',\n//   };\n\n//   return (\n//     <div id=\"showtable\" className=\"print_section\">\n//       <div className=\"col-md-12 m-1 border-top border-bottom row\" style={containerStyle} id=\"plan-mob\">\n//         <div className=\"col-md-2 mt-2 mb-2\">\n//           <img src=\"https://rcpt.in/images/logo.jpeg\" className=\"sai\" width=\"100%\" id=\"rec-logo-mob\" alt=\"Logo\" />\n//         </div>\n//       </div>\n\n//       <div className=\"maindowresp\">\n//         <div className=\"text-center\">\n//           <h2>\n//             <b>\n//               <font className=\"receipttext\">Recharge Receipt</font>\n//             </b>\n//           </h2>\n//         </div>\n\n//         <div className=\"mx-2 row recepitrow p-2 forbodrad\" id=\"plan-mob\">\n//           <div className=\"col-4 col-sm-4 border-right text-center py-2\">\n//             <h6 id=\"heading\">Mobile Number</h6>\n//             <p style={headingStyle}><b>{rechargeData?.mobileNumber}</b></p>\n//           </div>\n\n//           <div className=\"col-4 col-sm-4 border-right text-center py-2\">\n//             <h6 id=\"heading\">Transactions No.</h6>\n//             <p style={headingStyle}><b>{rechargeData?.transactionNumber}</b></p>\n//           </div>\n\n//           <div className=\"col-4 col-sm-4 text-center py-2\">\n//             <h6 id=\"heading\">Amount Paid</h6>\n//             <p style={amountStyle}>&#x20b9; {rechargeData?.amountPaid}</p>\n//           </div>\n//         </div>\n\n//         <div className=\"rechdeatils row mx-2 py-3\" style={{ border: '2px solid #0927eb' }}>\n//           <div className=\"col-6 rechdeatilscol1 \">\n//             <h6>Recharge type</h6>\n//             <h6>Validity of the Plan</h6>\n//             <h6>Amount Paid :</h6>\n//             <h6>Transaction Date :</h6>\n//           </div>\n//           <div className=\"col-6\">\n//             <h6>{rechargeData?.rechargeType}</h6>\n//             <h6>{rechargeData?.validity}</h6>\n//             <h6>Amount Paid :</h6>\n//             <h6>{rechargeData?.transactionDate}</h6>\n//           </div>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default ReceiptComponent;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}