{"ast":null,"code":"import _defineProperty from\"/home/sathish/Desktop/PROJECTS/rcpt/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/sathish/Desktop/PROJECTS/rcpt/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/sathish/Desktop/PROJECTS/rcpt/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{baseurl}from'./Component/Baseurl';import Headermobile from'././Mobile/Headermobile';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function NotificationForm(){var _useState=useState({title:'',Message:'',Img_url:'',Url:'',icon:''}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},name,value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();var base64Token=formData.Url;//     const vase=atob(base64Token);\n// console.log(vase);\n// Createc an object to represent the notification data\nconsole.log(base64Token);var notificationData={title:formData.title,message:formData.Message,imgUrl:formData.Img_url,url:\"https://rcpt.in/notificationpop?paramt=\".concat(encodeURIComponent(formData.Url)),icon:formData.icon};// Make a POST request to send the notification data to the server\nfetch(\"\".concat(baseurl,\"/rcpt-api/rcptaddnotificationdetails\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(notificationData)}).then(function(response){if(response.ok){// Notification was successfully created\nalert('Notification created successfully');window.location.reload();// window.location.href=`/notification/${base64Token}`\n}else{// Handle the error here\nalert('Failed to create notification');// window.location.href=`http://localhost:3000/notification?paramt=${encodeURIComponent(formData.Url)}`;\n}}).catch(function(error){console.error('API request error:',error);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid \",children:[/*#__PURE__*/_jsx(Headermobile,{}),/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center my-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card shadow\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\"Notification Form\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group m-2 \",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Url\",children:\"Icon: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",id:\"icon\",name:\"icon\",className:\"form-control\",value:formData.icon,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group m-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Notification Title:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",name:\"title\",className:\"form-control\",value:formData.title,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group m-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Message\",children:\"Notification Description:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"Message\",name:\"Message\",className:\"form-control\",value:formData.Message,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group m-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Img_url\",children:\"Image URL:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",id:\"Img_url\",name:\"Img_url\",className:\"form-control\",value:formData.Img_url,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group m-2 \",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Url\",children:\"Redirection URL:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",id:\"Url\",name:\"Url\",className:\"form-control\",value:formData.Url,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success m-2\",children:\"Push Notification\"})})]})]})})})})]});}export default NotificationForm;","map":{"version":3,"names":["React","useState","baseurl","Headermobile","jsx","_jsx","jsxs","_jsxs","NotificationForm","_useState","title","Message","Img_url","Url","icon","_useState2","_slicedToArray","formData","setFormData","handleChange","e","_e$target","target","name","value","_objectSpread","_defineProperty","handleSubmit","preventDefault","base64Token","console","log","notificationData","message","imgUrl","url","concat","encodeURIComponent","fetch","method","headers","body","JSON","stringify","then","response","ok","alert","window","location","reload","catch","error","className","children","onSubmit","htmlFor","type","id","onChange"],"sources":["/home/sathish/Desktop/PROJECTS/rcpt/src/NotificationForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { baseurl } from './Component/Baseurl';\nimport Headermobile from '././Mobile/Headermobile';\n\nfunction NotificationForm() {\n  const [formData, setFormData] = useState({\n    title: '',\n    Message: '',\n    Img_url: '',\n    Url: '',\n    icon:''\n  });\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n const base64Token = formData.Url;\n\n//     const vase=atob(base64Token);\n// console.log(vase);\n    // Createc an object to represent the notification data\n    console.log(base64Token);\n    const notificationData = {\n      title: formData.title,\n      message: formData.Message,\n      imgUrl: formData.Img_url,\n      url:`https://rcpt.in/notificationpop?paramt=${encodeURIComponent(formData.Url)}`,\n      icon: formData.icon,\n    };\n\n    // Make a POST request to send the notification data to the server\n    fetch(`${baseurl}/rcpt-api/rcptaddnotificationdetails`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n       \n\n      },\n      body: JSON.stringify(notificationData),\n    })\n      .then((response) => {\n        if (response.ok) {\n          // Notification was successfully created\n          alert('Notification created successfully');\n          window.location.reload();\n          // window.location.href=`/notification/${base64Token}`\n        } else {\n          // Handle the error here\n          alert('Failed to create notification');\n          // window.location.href=`http://localhost:3000/notification?paramt=${encodeURIComponent(formData.Url)}`;\n\n        }\n      })\n      .catch((error) => {\n        console.error('API request error:', error);\n      });\n  };\n\n  return (\n    <div className=\"container-fluid \">\n      <Headermobile/>\n      <div className=\"row justify-content-center my-5\">\n        <div className=\"col-md-6\">\n          <div className=\"card shadow\">\n            <div className=\"card-body\">\n              <h1 className=\"text-center\">Notification Form</h1>\n              <form onSubmit={handleSubmit}>\n              <div className=\"form-group m-2 \">\n                  <label htmlFor=\"Url\" >Icon: </label>\n                  <input\n                    type=\"url\"\n                    id=\"icon\"\n                    name=\"icon\"\n                    className=\"form-control\"\n                    value={formData.icon}\n                    onChange={handleChange}\n                  />\n                </div>\n                <div className=\"form-group m-2\">\n                  <label htmlFor=\"title\">Notification Title:</label>\n                  <input\n                    type=\"text\"\n                    id=\"title\"\n                    name=\"title\"\n                    className=\"form-control\"\n                    value={formData.title}\n                    onChange={handleChange}\n                  />\n                </div>\n\n                <div className=\"form-group m-2\">\n                  <label htmlFor=\"Message\">Notification Description:</label>\n                  <input\n                    type=\"text\"\n                    id=\"Message\"\n                    name=\"Message\"\n                    className=\"form-control\"\n                    value={formData.Message}\n                    onChange={handleChange}\n                  />\n                </div>\n\n                <div className=\"form-group m-2\">\n                  <label htmlFor=\"Img_url\">Image URL:</label>\n                  <input\n                    type=\"url\"\n                    id=\"Img_url\"\n                    name=\"Img_url\"\n                    className=\"form-control\"\n                    value={formData.Img_url}\n                    onChange={handleChange}\n                  />\n                </div>\n\n                <div className=\"form-group m-2 \">\n                  <label htmlFor=\"Url\">Redirection URL:</label>\n                  <input\n                    type=\"url\"\n                    id=\"Url\"\n                    name=\"Url\"\n                    className=\"form-control\"\n                    value={formData.Url}\n                    onChange={handleChange}\n                  />\n                </div>\n\n                \n                <div className=\"text-center\">\n                  <button type=\"submit\" className=\"btn btn-success m-2\">Push Notification</button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default NotificationForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}