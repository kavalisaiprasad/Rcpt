{"ast":null,"code":"var _jsxFileName = \"/home/saiprasad/rcptlive/rcpt/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport Plans from \"./Mobile/Plans\";\nimport Plan from \"./Mobile/Plan\";\nimport Receipt from \"./Mobile/Receipt\";\nimport Homemobile from \"./Mobile/Homemobile\";\nimport Home from \"./Component/home/Home\";\nimport Stvoffer from \"./Mobile/Stvoffer\";\nimport ReceiptComponent from \"./Mobile/ReceiptComponent\";\nimport Receiptdownload from \"./Mobile/Receiptdownload\";\nimport { FirebaseToken } from \"./Notification/FirebaseToken\";\nimport { getToken } from \"firebase/messaging\";\nimport Dynamicpage from \"./Mobile/Dynamicpage\";\nimport NotificationForm from \"./NotificationForm\";\nimport { baseurl } from \"./Component/Baseurl\";\nimport Notificationpop from \"./Notificationpop\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  useEffect(() => {\n    const tokenSent = localStorage.getItem('tokenSent'); // Check if the token has been sent\n\n    if (!tokenSent) {\n      requestPermission();\n    }\n  }, []);\n  async function requestPermission() {\n    const permission = await Notification.requestPermission();\n    if (permission === \"granted\") {\n      const token = await getToken(FirebaseToken);\n      sendTokenToApi(token);\n      console.log(token);\n      localStorage.setItem('tokenSent', 'true');\n    } else if (permission === \"denied\") {\n      // alert(\"You denied the notification\");\n    }\n  }\n  async function sendTokenToApi(token) {\n    try {\n      //  const decodedToken = jwt.decode(token, { complete: true });\n\n      const base64Token = btoa(JSON.stringify(token));\n      //  console.log( 'sfgg' + base64Token);\n      //  const vase=atob(base64Token);\n      //  console.log(vase);\n      console.log(base64Token);\n      const response = await fetch(`${baseurl}/rcpt-api/rcptinsertToken?token=${base64Token}`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      if (response.ok) {\n        console.log(\"Token sent to the API successfully.\");\n      } else {\n        console.error(\"Failed to send token to the API.\");\n      }\n    } catch (error) {\n      console.error(\"API request error:\", error);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(Homemobile, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/Plans\",\n        element: /*#__PURE__*/_jsxDEV(Plans, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/Plan\",\n        element: /*#__PURE__*/_jsxDEV(Plan, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 38\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/Notification\",\n        element: /*#__PURE__*/_jsxDEV(NotificationForm, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 46\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/notificationpop\",\n        element: /*#__PURE__*/_jsxDEV(Notificationpop, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 49\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/Home\",\n        element: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 38\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/Stvoffer\",\n        element: /*#__PURE__*/_jsxDEV(Stvoffer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 42\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/ReceiptComponent\",\n        element: /*#__PURE__*/_jsxDEV(ReceiptComponent, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/Receiptdownload/:shortcode\",\n        element: /*#__PURE__*/_jsxDEV(Receiptdownload, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 60\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/Receipt/:shortcode\",\n        element: /*#__PURE__*/_jsxDEV(Receipt, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 52\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/:shortcode\",\n        element: /*#__PURE__*/_jsxDEV(Dynamicpage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 44\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","BrowserRouter","Routes","Route","Plans","Plan","Receipt","Homemobile","Home","Stvoffer","ReceiptComponent","Receiptdownload","FirebaseToken","getToken","Dynamicpage","NotificationForm","baseurl","Notificationpop","jsxDEV","_jsxDEV","App","_s","tokenSent","localStorage","getItem","requestPermission","permission","Notification","token","sendTokenToApi","console","log","setItem","base64Token","btoa","JSON","stringify","response","fetch","method","headers","ok","error","children","path","element","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/saiprasad/rcptlive/rcpt/src/App.js"],"sourcesContent":["\nimport React, { useEffect } from \"react\";\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport Plans from \"./Mobile/Plans\";\nimport Plan from \"./Mobile/Plan\";\n\nimport Receipt from \"./Mobile/Receipt\";\nimport Homemobile from \"./Mobile/Homemobile\";\nimport Home from \"./Component/home/Home\";\nimport Stvoffer from \"./Mobile/Stvoffer\";\nimport ReceiptComponent from \"./Mobile/ReceiptComponent\";\nimport Receiptdownload from \"./Mobile/Receiptdownload\";\nimport { FirebaseToken } from \"./Notification/FirebaseToken\";\nimport { getToken } from \"firebase/messaging\";\nimport Dynamicpage from \"./Mobile/Dynamicpage\";\nimport NotificationForm from \"./NotificationForm\";\nimport { baseurl } from \"./Component/Baseurl\";\nimport Notificationpop from \"./Notificationpop\";\nimport \"./App.css\";\n\nfunction App() {\n \n  useEffect(() => {\n    \n    const tokenSent = localStorage.getItem('tokenSent'); // Check if the token has been sent\n\n    if (!tokenSent) {\n      requestPermission();\n    }\n    \n  }, []);\n\n  async function requestPermission() {\n    const permission = await Notification.requestPermission();\n    if (permission === \"granted\") {\n      const token = await getToken(FirebaseToken);\n      sendTokenToApi(token);\n      console.log( token);\n      localStorage.setItem('tokenSent', 'true');\n    } else if (permission === \"denied\") {\n      // alert(\"You denied the notification\");\n    }\n  }\n\n  async function sendTokenToApi(token) {\n    try {\n      //  const decodedToken = jwt.decode(token, { complete: true });\n\n       const base64Token = btoa(JSON.stringify(token));\n      //  console.log( 'sfgg' + base64Token);\n      //  const vase=atob(base64Token);\n      //  console.log(vase);\n      console.log(base64Token);\n      const response = await fetch(`${baseurl}/rcpt-api/rcptinsertToken?token=${base64Token}`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        }\n      });\n\n      if (response.ok) {\n        console.log(\"Token sent to the API successfully.\");\n      } else {\n        console.error(\"Failed to send token to the API.\");\n      }\n    } catch (error) {\n      console.error(\"API request error:\", error);\n    }\n  }\n\n  return (\n    <BrowserRouter>\n      <Routes>\n        <Route path=\"/\" element={<Homemobile />} />\n        <Route path=\"/Plans\" element={<Plans />} />\n        <Route path=\"/Plan\" element={<Plan />} />\n\n        <Route path=\"/Notification\" element={<NotificationForm />} />\n   \n        <Route path=\"/notificationpop\" element={<Notificationpop />} />\n\n        <Route path=\"/Home\" element={<Home />} />\n        <Route path=\"/Stvoffer\" element={<Stvoffer />} />\n        <Route path=\"/ReceiptComponent\" element={<ReceiptComponent />} />\n        <Route path=\"/Receiptdownload/:shortcode\" element={<Receiptdownload />} />\n        <Route path=\"/Receipt/:shortcode\" element={<Receipt />} />\n        <Route path=\"/:shortcode\" element={<Dynamicpage />} />\n\n      </Routes>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}